<h1>Shopping Cart</h1>
<table>
  <thead>
    <tr>
      <th>Item</th>
      <th>Quantity</th>
      <th>Price Each</th>
      <th>Item Total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{{ item.name }}</td>
      <td>{{ quantity() }}</td>
      <td>{{ item.price | currency }}</td>
      <td>{{ itemTotal() | currency  }}</td>
    </tr>
    <tr>
        <td colspan="3">
            <p>Shipping Method</p>
            @if(shippingMethod() && shippingMethod().hasPriceChange){
                <p class="warning">Your shipping price has changed, please verify your selection</p>
            }
        </td>
        <td>
            <div class="shipping-methods">
            @for(method of shippingMethods | async; let i = $index; track $index) {
                <div>
                    <input type="radio" id="i" name="shippingMethod" value="shippingMethod" (click)="updateShippingMethod(method)" [checked]="method === shippingMethod()"/>
                    <label for="i">{{ method.name}} -  {{method.price | currency}}</label>
                </div>
            } @empty {
                <p>No shipping methods available</p>
            }
            </div>
        </td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
        <td colspan="3">Subtotal</td>
        <td>{{ subtotal() | currency  }}</td>
    </tr>
    <tr>
      <td colspan="3">Tax</td>
      <td>{{ tax() | currency  }}</td>
    </tr>
    <tr>
      <td colspan="3">Shipping</td>
      <td>{{ shipping() | currency  }}</td>
    </tr>
    <tr>
      <td colspan="3">Total</td>
      <td>{{ total() | currency  }}</td>
    </tr>
  </tfoot>
</table>
<button (click)="addToCart()">Add Super Cool Item to Cart</button>

<div class="shipping-methods">
  <p>Select Your Time Zone to Update Shipping Options</p>
  <div>
    <input type="radio" id="eastern" name="timezone" value ="timezone" (click)="changeShippingOptions('eastern')" checked/>
    <label for="i">Eastern Time Zone</label>
  </div>
  <div>
    <input type="radio" id="central" name="timezone" value ="timezone" (click)="changeShippingOptions('central')" />
    <label for="i">Central Time Zone</label>
  </div>
  <div>
    <input type="radio" id="mountain" name="timezone" value ="timezone" (click)="changeShippingOptions('mountain')" />
    <label for="i">Mountain Time Zone</label>
  </div>
  <div>
    <input type="radio" id="pacific" name="timezone" value ="timezone" (click)="changeShippingOptions('pacific')" />
    <label for="i">Pacific Time Zone</label>
  </div>
</div>
